<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Manipulaton of Directories and file Permissions</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for files2 {base}"><tr><td>files2 {base}</td><td align="right">R Documentation</td></tr></table>
<h2>Manipulaton of Directories and file Permissions</h2>


<h3>Description</h3>

<p>
These functions provide a low-level interface to the computer's
file system.
</p>


<h3>Usage</h3>

<pre>
dir.create(path, showWarnings = TRUE, recursive = FALSE, mode = "0777")
Sys.chmod(paths, mode = "0777")
Sys.umask(mode = "0000")
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>path</code></td>
<td>
a character vector containing a single path name.</td></tr>
<tr valign="top"><td><code>paths</code></td>
<td>
character vectors containing file or directory paths.</td></tr>
<tr valign="top"><td><code>showWarnings</code></td>
<td>
logical; should the warnings on failure be shown?</td></tr>
<tr valign="top"><td><code>recursive</code></td>
<td>
logical. Should elements of the path other than the
last be created?  If true, like Unix's <CODE>mkdir -p</CODE>.</td></tr>
<tr valign="top"><td><code>mode</code></td>
<td>
the file mode to be used on Unix-alikes: it will be
coerced by <code><a href="octmode.html">as.octmode</a></code>.</td></tr>
</table>

<h3>Details</h3>

<p>
<code>dir.create</code> creates the last element of the path, unless
<code>recursive = TRUE</code>.  Trailing path separators are removed.
On Windows drives are allowed in the path specification and unless
the path is rooted, it will be interpreted relative to the current
directory on that drive.  <code>mode</code> is ignored on Windows.
</p>
<p>
<code>Sys.chmod</code> sets the file permissions of one or more files.
The interpretation of <code>mode</code> in the Windows system function is
non-POSIX and only supports setting the read-only attribute of the
file.  So <font face="Courier New,Courier" color="#666666"><b>R</b></font> interprets <code>mode</code> to mean set read-only if and only
if <code>mode &amp; 0200 == 0</code> (interpreted in octal).  Windows has a much
more extensive system of file permissions on some file systems
(e.g. versions of NTFS) which are unrelated to this system call.
</p>
<p>
<code>Sys.umask</code> sets the <code>umask</code>.
All files on Windows are regarded as readable, and files being
executable is not a Windows concept.  So <code>umask</code> only controls
whether a file is writable: a setting of <code>"200"</code> makes files (but
not directories) created subsequently read-only.
</p>


<h3>Value</h3>

<p>
<code>dir.create</code> and <code>Sys.chmod</code> return invisibly a logical vector
indicating if the operation succeeded for each of the files attempted.
Using a missing value for a path name will always be regarded as a
failure.  <code>dir.create</code> indicates failure if the directory already
exists.  If <code>showWarnings = TRUE</code>, <code>dir.create</code> will give a
warning for an unexpected failure (e.g. not for a missing value nor
for an already existing component for <code>recursive = TRUE</code>).
<br>
<code>Sys.umask</code> returns the previous value of the <code>umask</code>,
invisibly, as a length-one object of class <code>"<a href="octmode.html">octmode</a>"</code>.</p>

<h3>Note</h3>

<p>
There is no guarantee that these functions will handle Windows
relative paths of the form &lsquo;<span class="file">d:path</span>&rsquo;: try &lsquo;<span class="file">d:./path</span>&rsquo;
instead.  In particular, &lsquo;<span class="file">d:</span>&rsquo; is not recognized as a directory.
</p>


<h3>Author(s)</h3>

<p>
Ross Ihaka, Brian Ripley
</p>


<h3>See Also</h3>

<p>
<code><a href="file.info.html">file.info</a></code>, <code><a href="files.html">file.exists</a></code>, <code><a href="file.path.html">file.path</a></code>,
<code><a href="list.files.html">list.files</a></code>, <code><a href="unlink.html">unlink</a></code>,
<code><a href="basename.html">basename</a></code>, <code><a href="path.expand.html">path.expand</a></code>.
</p>



<hr><div align="center">[Package <em>base</em> version 2.9.2 <a href="00Index.html">Index</a>]</div>

</body></html>

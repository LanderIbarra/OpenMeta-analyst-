<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Residual Values based on rma Objects</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for residuals.rma {metafor}"><tr><td>residuals.rma {metafor}</td><td align="right">R Documentation</td></tr></table>
<h2>Residual Values based on rma Objects</h2>


<h3>Description</h3>

<p>
The <code>residuals</code>, <code>rstandard</code>, and <code>rstudent</code> functions can be used to extract residuals, corresponding standard errors, and standardized residuals for models fitted with the <code><a href="rma.uni.html">rma.uni</a></code>, <code><a href="rma.mh.html">rma.mh</a></code>, and <code><a href="rma.peto.html">rma.peto</a></code> functions.
</p>


<h3>Usage</h3>

<pre>
## S3 method for class 'rma':
residuals(object, ...)
## S3 method for class 'rma.uni':
rstandard(model, digits=model$digits, ...)
## S3 method for class 'rma.mh':
rstandard(model, digits=model$digits, ...)
## S3 method for class 'rma.peto':
rstandard(model, digits=model$digits, ...)
## S3 method for class 'rma.uni':
rstudent(model, digits=model$digits, ...)
## S3 method for class 'rma.mh':
rstudent(model, digits=model$digits, ...)
## S3 method for class 'rma.peto':
rstudent(model, digits=model$digits, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>
an object of class <code>"rma"</code> (for <code>residuals</code>).</td></tr>
<tr valign="top"><td><code>model</code></td>
<td>
an object of class <code>"rma.uni"</code>, <code>"rma.mh"</code>, or <code>"rma.peto"</code> (for <code>rstandard</code> and <code>rstudent</code>).</td></tr>
<tr valign="top"><td><code>digits</code></td>
<td>
an integer specifying the number of decimal places to which the printed results should be rounded (the default is to take the value from the object).</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
other arguments.</td></tr>
</table>

<h3>Details</h3>

<p>
The observed residuals (obtained with <code>residuals</code>) are simply equal to the &lsquo;observed - fitted&rsquo; values.
</p>
<p>
Dividing the observed residuals by their corresponding standard errors yields (internally) standardized residuals. These can be obtained with <code>rstandard</code>.
</p>
<p>
The <code>rstudent</code> function calculates externally standardized residuals (studentized deleted residuals). The externally standardized residual for the <i>ith</i> case is obtained by deleting the <i>ith</i> case from the dataset, fitting the model based on the remaining cases, calculating the predicted value for the <i>ith</i> case based on the fitted model, taking the difference between the observed and the predicted value for the <i>ith</i> case (the deleted residual), and then standardizing the deleted residual. The standard error of the deleted residual is equal to the square root of the sampling variance of the <i>ith</i> case plus the variance of the predicted value plus the amount of (residual) heterogeneity from the fitted model (for fixed-effects models, this last part is always equal to zero).
</p>
<p>
If a particular study fits the model, its standardized residual follows (asymptotically) a standard normal distribution. A large standardized residual for a study therefore may suggest that the study does not fit the assumed model (i.e., it may be an outlier).
</p>
<p>
See also <code><a href="influence.rma.uni.html">influence.rma.uni</a></code> for other leave-one-out diagnostics that are useful for detecting influential cases in models fitted with the <code><a href="rma.uni.html">rma.uni</a></code> function.
</p>


<h3>Value</h3>

<p>
Either a vector with the observed residuals (for <code>residuals</code>) or an object of class <code>"list.rma"</code>, which is a list containing the following components:        
</p>
<table summary="R argblock">
<tr valign="top"><td><code>resid</code></td>
<td>
observed residuals (for <code>rstandard</code>) or deleted residuals (for <code>rstudent</code>).</td></tr>
<tr valign="top"><td><code>se</code></td>
<td>
corresponding standard errors.</td></tr>
<tr valign="top"><td><code>z</code></td>
<td>
standardized residuals (internally standardized for <code>rstandard</code> or externally standardized for <code>rstudent</code>).</td></tr>
</table>
<p>

<br>
The <code>"list.rma"</code> object is formated and printed with <code><a href="print.list.rma.html">print.list.rma</a></code>.</p>

<h3>Note</h3>

<p>
Right now, the externally standardized residuals are calculated by refitting the model <i>k</i> times. Depending on how large <i>k</i> is, it may take a few moments to finish the calculations. 
</p>
<p>
It may not be possible to fit the model after deletion of the <i>ith</i> case from the dataset. This will result in <code>NA</code> values for that case when calling <code>rstudent</code>.
</p>


<h3>Author(s)</h3>

<p>
Wolfgang Viechtbauer; <a href="mailto:wvb@www.wvbauer.com">wvb@www.wvbauer.com</a>; <a href="http://www.wvbauer.com/">http://www.wvbauer.com/</a>
</p>


<h3>References</h3>

<p>
Hedges, L. V. &amp; Olkin, I. (1985) <EM>Statistical methods for meta-analysis</EM>. San Diego, CA: Academic Press.
</p>


<h3>See Also</h3>

<p>
<code><a href="rma.uni.html">rma.uni</a></code>, <code><a href="rma.mh.html">rma.mh</a></code>, <code><a href="rma.peto.html">rma.peto</a></code>, <code><a href="influence.rma.uni.html">influence.rma.uni</a></code>
</p>


<h3>Examples</h3>

<pre>
### load BCG vaccine data
data(dat.bcg)

### meta-analysis of the log risk ratios using a random-effects model
res &lt;- rma(ai=tpos, bi=tneg, ci=cpos, di=cneg, 
           data=dat.bcg, measure="RR", method="REML")
rstudent(res)

### mixed-effects model with absolute latitude as a moderator
res &lt;- rma(ai=tpos, bi=tneg, ci=cpos, di=cneg, mods=ablat, 
           measure="RR", data=dat.bcg, method="REML")
rstudent(res)
</pre>



<hr><div align="center">[Package <em>metafor</em> version 0.5-7 <a href="00Index.html">Index</a>]</div>

</body></html>

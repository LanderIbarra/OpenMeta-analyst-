<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Add Polygons to Forest Plot</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for addpoly.default {metafor}"><tr><td>addpoly.default {metafor}</td><td align="right">R Documentation</td></tr></table>
<h2>Add Polygons to Forest Plot</h2>


<h3>Description</h3>

<p>
Function to add one or more polygons to a forest plot.
</p>


<h3>Usage</h3>

<pre>
## Default S3 method:
addpoly(x, vi, sei, row=-1, level=95, digits=2, annotate=TRUE, 
        mlab=NULL, transf=FALSE, atransf=FALSE, targs=NULL, 
        col="black", efac=1, cex=NULL, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
a vector with the values at which the polygons should be drawn.</td></tr>
<tr valign="top"><td><code>vi</code></td>
<td>
a vector with the corresponding variances.</td></tr>
<tr valign="top"><td><code>sei</code></td>
<td>
a vector with the corresponding standard errors.<br>(note: only one of the two, <code>vi</code> or <code>sei</code>, needs to be specified)</td></tr>
<tr valign="top"><td><code>row</code></td>
<td>
integer specifying the (starting) row of where the polygon(s) should be placed (default is -1).</td></tr>
<tr valign="top"><td><code>level</code></td>
<td>
a numerical value between 0 and 100 specifying the confidence interval level (default is 95).</td></tr>
<tr valign="top"><td><code>digits</code></td>
<td>
integer value specifying the number of decimal places to which the annotations should be rounded (default is 2).</td></tr>
<tr valign="top"><td><code>annotate</code></td>
<td>
logical specifying whether annotations should be added to the plot for the polygons that are drawn (default is <code>TRUE</code>).</td></tr>
<tr valign="top"><td><code>mlab</code></td>
<td>
optional character vector with the same length as <code>x</code> giving labels for the polygons that are drawn. Defaults to <code>NULL</code>, which suppresses labels.</td></tr>
<tr valign="top"><td><code>transf</code></td>
<td>
an optional argument specifying the name of a function that should be used to transform the <code>x</code> values and confidence interval bounds. Defaults to <code>FALSE</code>, which means that no transformation is used.</td></tr>
<tr valign="top"><td><code>atransf</code></td>
<td>
an optional argument specifying the name of a function that should be used to transform the annotations. Defaults to <code>FALSE</code>, which means that no transformation is used.</td></tr>
<tr valign="top"><td><code>targs</code></td>
<td>
optional arguments needed by the function specified via <code>transf</code> or <code>atransf</code>.</td></tr>
<tr valign="top"><td><code>col</code></td>
<td>
color of the polygons that are drawn (default is <code>"black"</code>).</td></tr>
<tr valign="top"><td><code>efac</code></td>
<td>
vertical expansion factor for the polygons. The default value of 1 should usually work okay.</td></tr>
<tr valign="top"><td><code>cex</code></td>
<td>
an optional symbol expansion factor. If <code>NULL</code> (default), the function tries to set this to a sensible value.</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
other arguments.</td></tr>
</table>

<h3>Details</h3>

<p>
The function can be used to add one or more polygons to an existing forest plot created with the <code><a href="forest.html">forest</a></code> function. For example, summary estimates based on a subgrouping of the studies or from models involving moderators can be added to the plot this way. See examples below.
</p>
<p>
The arguments <code>transf</code>, <code>atransf</code>, <code>efac</code>, and <code>cex</code> should always be set equal to the same values used to create the forest plot.
</p>


<h3>Author(s)</h3>

<p>
Wolfgang Viechtbauer; <a href="mailto:wvb@www.wvbauer.com">wvb@www.wvbauer.com</a>; <a href="http://www.wvbauer.com/">http://www.wvbauer.com/</a>
</p>


<h3>See Also</h3>

<p>
<code><a href="forest.rma.html">forest.rma</a></code>, <code><a href="forest.default.html">forest.default</a></code>
</p>


<h3>Examples</h3>

<pre>
### load BCG vaccine data
data(dat.bcg)

### meta-analysis of the log risk ratios using a mixed-
### effects model with absolute latitude as moderator
res &lt;- rma(ai=tpos, bi=tneg, ci=cpos, di=cneg, mods=cbind(ablat),
           slab=paste(author, year), data=dat.bcg, measure="RR", method="REML")

### forest plot of the observed risk ratios
forest(res, addfit=FALSE, atransf=exp, addrows=3, xlab="Relative Risk (log scale)")

### predicted log average risk ratios for 10, 30, and 50 degrees absolute latitude
x &lt;- predict(res, newmods=c(10, 30, 50))

### add predicted average risk ratios to forest plot
addpoly(x$pred, sei=x$se, atransf=exp, 
        mlab=c("10 Degrees", "30 Degrees", "50 Degrees"))
</pre>



<hr><div align="center">[Package <em>metafor</em> version 0.5-7 <a href="00Index.html">Index</a>]</div>

</body></html>

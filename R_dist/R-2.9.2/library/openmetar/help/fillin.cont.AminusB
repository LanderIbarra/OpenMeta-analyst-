fillin.cont.AminusB        package:openmetar        R Documentation



_U_s_a_g_e:

     fillin.cont.AminusB(n.A = NA, mean.A = NA, sd.A = NA, se.A = NA, var.A = NA, low.A = NA, high.A = NA, pval.A = NA, n.B = NA, mean.B = NA, sd.B = NA, se.B = NA, var.B = NA, low.B = NA, high.B = NA, pval.B = NA, correlation = 0, alpha = 0.05)

_A_r_g_u_m_e_n_t_s:

     n.A: 

  mean.A: 

    sd.A: 

    se.A: 

   var.A: 

   low.A: 

  high.A: 

  pval.A: 

     n.B: 

  mean.B: 

    sd.B: 

    se.B: 

   var.B: 

   low.B: 

  high.B: 

  pval.B: 

correlation: 

   alpha: 

_E_x_a_m_p_l_e_s:

     ##---- Should be DIRECTLY executable !! ----
     ##-- ==>  Define data, use random,
     ##--    or do  help(data=index)  for the standard data sets.

     ## The function is currently defined as
     function (n.A = NA, mean.A = NA, sd.A = NA, se.A = NA, var.A = NA, 
         low.A = NA, high.A = NA, pval.A = NA, n.B = NA, mean.B = NA, 
         sd.B = NA, se.B = NA, var.B = NA, low.B = NA, high.B = NA, 
         pval.B = NA, correlation = 0, alpha = 0.05) 
     {
         succeeded <- TRUE
         comment <- ""
         res <- list(succeeded = succeeded)
         n.diff <- NA
         mean.diff <- NA
         sd.diff <- NA
         se.diff <- NA
         var.diff <- NA
         low.diff <- NA
         high.diff <- NA
         pval.diff <- NA
         z <- abs(qnorm(alpha/2))
         input.vector.A <- c(n.A, mean.A, sd.A, se.A, var.A, low.A, 
             high.A, pval.A)
         input.vector.B <- c(n.B, mean.B, sd.B, se.B, var.B, low.B, 
             high.B, pval.B)
         input.pattern <- list(A = !(is.na(input.vector.A)), B = !(is.na(input.vector.B)))
         fillin.A <- fillin.cont.1spell(n.A, mean.A, sd.A, se.A, var.A, 
             low.A, high.A, pval.A, alpha = alpha)
         comment <- paste(comment, paste("A", fillin.A$comment, sep = ":"), 
             sep = "|")
         fillin.B <- fillin.cont.1spell(n.B, mean.B, sd.B, se.B, var.B, 
             low.B, high.B, pval.B, alpha = alpha)
         comment <- paste(comment, paste("B", fillin.B$comment, sep = ":"), 
             sep = "|")
         if (identical(c(fillin.A$succeeded, fillin.B$succeeded), 
             c(TRUE, TRUE))) {
             mean.diff <- fillin.A$output["mean"] - fillin.B$output["mean"]
             var.diff <- (fillin.A$output["se"])^2 + (fillin.B$output["se"])^2
             -2 * correlation * (fillin.A$output["se"]) * (fillin.B$output["se"])
             se.diff <- sqrt(var.diff)
             low.diff <- mean.diff - z * se.diff
             high.diff <- mean.diff + z * se.diff
             pval.diff <- 2 * pnorm(-abs(mean.diff/se.diff))
             n.diff <- try(min(fillin.A$output["n"], fillin.B$output["n"]), 
                 silent = TRUE)
             sd.diff <- try(var.diff * (n.diff - 1), silent = TRUE)
         }
         else {
             succeeded <- FALSE
         }
         output.vector <- c(n.diff, mean.diff, sd.diff, se.diff, var.diff, 
             low.diff, high.diff, pval.diff)
         output.names <- c("n", "mean", "sd", "se", "var", "low", 
             "high", "pval")
         names(output.vector) <- output.names
         res <- list(succeeded = succeeded, input.pattern = input.pattern, 
             output = output.vector, pre = fillin.A$output, post = fillin.B$output, 
             comment = comment, correlation = correlation)
         return(res)
       }

